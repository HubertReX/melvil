{% extends "base.html" %}

{% block title %}{{title}}{% endblock %}

{% block content %}
    <h1>Search</h1>
    <div class="cover-container d-flex h-80 p-3 mx-auto flex-column">
      <main role="main" class="inner cover">

        <input class="form-control" id="bookInput" type="text" placeholder="Search...">
          <div class="container my_search_main">
            <ul class="list-group" id="bookList">
              {% for item in all_query %}
                <li class="list-group-item my_search">
                  <div class="col-lg-5">
                    <a href="{{ url_for('library.item_description', item_id=item[0]) }}">
                      {{ item[2] }}
                    </a>
                  </div>
                    <div class="col-lg-6">
                      {% if item[1] == 'book' %}
                        {% for author in item[3] %}
                          <a href="{{ url_for('library.author_description', author_name=author) }}">
                            {% if loop.last %}
                              {{ author }}...
                            {% else %}
                              {{ author }},
                            {% endif %}
                          </a>
                        {% endfor %}
                      {% elif item[1] == 'magazine' %}
                        <p>Issue no.: {{ item[3] }}</p>
                      {% endif %}
                    </div>
                    <div class="col-lg-1" data-toggle="tooltip" data-placement="right" title="{{ item[1].capitalize() }}">
                      <p>?</p>
                    </div>
                </li>
              {% endfor %}
            </ul>
          </div>

        <nav aria-label="Page navigation example">
            {% if prev_url %}
              <a href="{{ prev_url }}">
                <button type="button" class="btn btn-dark">
                  <
                </button>
              </a>
            {% else %}
              <button type="button" class="btn btn-dark" disabled>
                <
              </button>
            {% endif %}

            {% if next_url %}
              <a href="{{ next_url }}">
                <button type="button" class="btn btn-dark">
                  >
                </button>
              </a>
            {% else %}
              <button type="button" class="btn btn-dark" disabled>
                >
              </button>
            {% endif %}
            </ul>
        </nav>

      </main>
    </div>

{% endblock %}
